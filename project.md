## Project context 

Your group has been hired to provide a solution to temporarily summarize and consolidate the data of the IoT traffic of a multi-national enterprise. The IoT traffic are generated by and collected from IoT devices geographically distributed. The enterprise wants to summarize and consolidate the traffic data in order to detect anomalies and bottlenecks to guide their infrastructure investment decisions. The enterprise’s IT director does not want to invest in a permanent infrastructure to support this tasks, thus the director wants to use a Pubic Cloud infrastructure that covers all geographical locations where the enterprise has a branch.

Each branch generates a comma separated values (CSV) file containing the IoT traffic that you can download at Dataset of legitimate IoT data (VARIoT).

The group’s task is to propose a solution architecture using the AWS services and develop the supporting applications.

The Upload Client uploads IoT traffic generated files by the branches into a shared repository.

The Summarize Worker processes CSV files and summarizes the traffic between the source (Src IP) and destination (Dst IP) devices per day. For each devices combination per day, the application calculates the Total Flow Duration (Flow Duration field) and Total Forward Packet (Tot Fwd Pkt field).

The Consolidator Worker processes the output of the Summarize Worker and update the average and standard deviation of the traffic between the source and destination devices.

The Export Client exports into a CSV file the summarized and consolidated traffic information of a device combination.

### Additional Requirements
The Summarize Worker and Consolidator Workers must be implemented as Lambda functions and as a Java application able to run in a Linux Virtual Machine

The two implementations should be quantitatively compared in terms of performance using all the files in the Dataset of legitimate IoT data (VARIoT).

The solution must guarantee the processing of the files in case of the Workers unavailability or busyness

The solution must use the least amount of Cloud storage resources possible

The Worker must process as soon as possible new IoT traffic files

### Description of the work

We created under the fr.emse package the following packages : 

- Client: it hosts the s3ListBucket class and the Upload_Client, thanks to which we can Upload a file of our choice on a bucket of our choice and which contains the functions related to these uploads that are used elsewhere in the code.
- WorkersEC2 : 
To be launched in a EC2 instance,
 it hosts the java application to summarize data fromm the data.csv files in the SummarizeWorker class.
 it hosts the java application to compute statistics from the summarized data files in the ConsolidatorWorker class.
 
Briefly, the data files are able to be uploaded in a Source Bucket thanks to the Upload_Client, which trigger a message in the sqs queue SQS_Summarize.
The summarize worker allows to parse the messages from the queue and summarize data from the related files added to the bucket and stock the summarized csv files locally. Then, it uploads it in the TEMP bucket and sends a message to the queue SQS_CONSOLIDATOR before deleting the local csv file.
Then, the Consolidator worker retrieve the summarized file from the SQS_CONSOLIDATOR message and process them, to stock locally the final csv files. Ultimately, it uploads the parsed file in the Final Bucket.

We didn't succeed in launching it in an EC2 instance (probably because of the directories it works with locally, if we had time left we would have done the same with temp repositories as we did in Lambda functions). But it can be launched locally by running successively :

- Upload_Client
- SummarizeWorker
- ConsolidatorWorker

With the same effects as the lambda function. 
Without it working, we couldn't compare the performances of each systems.


- WorkersLambda : 

The SummarizeLambda and ConsolidatorLambda are to be implemented in Lambda functions with the JAR. We must use the SQS_SUMMARIZE to trigger SummarizeLambda, whith SQS_CONSOLIDATOR as a destination. SQS_CONSOLIDATOR will then trigger the Lambda function related to ConsolidatorLambda. 
Which will basically do the same.

The Export client is integrated in the ConsolidatorWorker.